<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="dat_srt_teguran" language="groovy" pageWidth="612" pageHeight="1008" columnWidth="516" leftMargin="48" rightMargin="48" topMargin="20" bottomMargin="12" uuid="a156c92c-7326-4bf6-85f7-c26e125f17a2">
	<property name="ireport.zoom" value="1.0245201830476072"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="509"/>
	<parameter name="daerah" class="java.lang.String"/>
	<parameter name="dinas" class="java.lang.String"/>
	<parameter name="kondisi" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="tglcetak" class="java.lang.String"/>
	<parameter name="ttd" class="java.lang.String"/>
	<parameter name="masabulan" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[2]]></defaultValueExpression>
	</parameter>
	<parameter name="masatahun" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[2014]]></defaultValueExpression>
	</parameter>
	<parameter name="tahun" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[2014]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select get_npwpd(c.id, true) as npwpd, get_nopd(cu.id, true) nopd, upper(c.nama) customernm, '"'||upper(c.nama)||'"' customernm2, c.alamat,
kel.nama as kelurahannm, kec.nama as kecamatannm, initcap(u.nama) as usahanm, c.id as c_id, cu.id as cu_id, cu.usaha_id,

format_tgl(date('$P!{tglcetak}'),false,false) as tglcetak,
$P!{masabulan} as masa_bulan, $P!{masatahun} as tahun,

pm.pemdatype, pm.nama as pemdanm, pm.kepala_nama as kepalanm, pm.pemdaalmat, pm.telp as pemdatelp, pm.ibukota, pm.kdhjabatan, pm.pendapatan_id,pm.pemda_nama_singkat as pemdanmskt

from pad.pad_customer c
inner join pad.pad_customer_usaha cu on cu.customer_id = c.id
inner join pad.pad_usaha u on u.id = cu.usaha_id
inner join pad.pad_kecamatan kec on kec.id = cu.kecamatan_id
inner join pad.pad_kelurahan kel on kel.id = cu.kelurahan_id
left join (select p.type as pemdatype, p.pemda_nama as pemdanm, p.kepala_nama as kepalanm, p.alamat as pemdaalmat,
  p.telp as pemdatelp, p.ibukota, p.jabatan as kdhjabatan, p.pendapatan_id, p.pemda_nama_singkat as pemdanmskt  
  from pad.pad_pemda p
  --order by p.tmt desc limit 1) pm on pm.enabled=1

where c.rp='P'
and cu.customer_status_id=1
and cu.usaha_id not in (4,6)
and (
  select count(*)
  from pad.pad_spt s1
  where s1.customer_usaha_id = cu.id
  and extract(month from s1.masadari)= $P!{masabulan}
  and extract(year from s1.masadari)= $P!{masatahun}
  and s1.tahun=$P!{tahun}
) < 1
AND extract(month from cu.create_date)<extract(month from date('$P!{tglcetak}'))
AND extract(year from cu.create_date)=extract(year from date('$P!{tglcetak}'))
--and cu.usaha_id =
$P!{kondisi}

order by cu.usaha_id, c.npwpd]]>
	</queryString>
	<field name="npwpd" class="java.lang.String"/>
	<field name="nopd" class="java.lang.String"/>
	<field name="customernm" class="java.lang.String"/>
	<field name="customernm2" class="java.lang.String"/>
	<field name="alamat" class="java.lang.String"/>
	<field name="kelurahannm" class="java.lang.String"/>
	<field name="kecamatannm" class="java.lang.String"/>
	<field name="usahanm" class="java.lang.String"/>
	<field name="c_id" class="java.lang.Long"/>
	<field name="cu_id" class="java.lang.Long"/>
	<field name="usaha_id" class="java.lang.Integer"/>
	<field name="tglcetak" class="java.lang.String"/>
	<field name="masa_bulan" class="java.lang.Integer"/>
	<field name="tahun" class="java.lang.Integer"/>
	<field name="pemdatype" class="java.lang.String"/>
	<field name="pemdanm" class="java.lang.String"/>
	<field name="kepalanm" class="java.lang.String"/>
	<field name="pemdaalmat" class="java.lang.String"/>
	<field name="pemdatelp" class="java.lang.String"/>
	<field name="ibukota" class="java.lang.String"/>
	<field name="kdhjabatan" class="java.lang.String"/>
	<field name="pendapatan_id" class="java.lang.Integer"/>
	<field name="pemdanmskt" class="java.lang.String"/>
	<variable name="nmbulan_cetak" class="java.lang.String" resetType="None">
		<variableExpression><![CDATA[($P{tglcetak} != null ) ? (Integer.valueOf($P{tglcetak}.substring(5,7))==1 ? "Januari" : Integer.valueOf($P{tglcetak}.substring(5,7))==2 ? "Februari" : Integer.valueOf($P{tglcetak}.substring(5,7))==3 ? "Maret" : Integer.valueOf($P{tglcetak}.substring(5,7))==4 ? "April" : Integer.valueOf($P{tglcetak}.substring(5,7))==5 ? "Mei" : Integer.valueOf($P{tglcetak}.substring(5,7))==6 ? "Juni" : Integer.valueOf($P{tglcetak}.substring(5,7))==7 ? "Juli" : Integer.valueOf($P{tglcetak}.substring(5,7))==8 ? "Agustus" : Integer.valueOf($P{tglcetak}.substring(5,7))==9 ? "September" : Integer.valueOf($P{tglcetak}.substring(5,7))==10 ? "Oktober" : Integer.valueOf($P{tglcetak}.substring(5,7))==11 ? "November" : Integer.valueOf($P{tglcetak}.substring(5,7))==12 ? "Desember" : "Nothing") : ""]]></variableExpression>
	</variable>
	<variable name="bulan_now" class="java.lang.String" resetType="None">
		<variableExpression><![CDATA[new SimpleDateFormat("MM").format(new Date())]]></variableExpression>
	</variable>
	<variable name="tahun" class="java.lang.String">
		<variableExpression><![CDATA[$P{tglcetak}.substring(0,4)]]></variableExpression>
	</variable>
	<variable name="masa_bulan" class="java.lang.String" resetType="None">
		<variableExpression><![CDATA[$F{masa_bulan}==1 ? "Januari" : $F{masa_bulan}==2 ? "Februari" : $F{masa_bulan}==3 ? "Maret" : $F{masa_bulan}==4 ? "April" : $F{masa_bulan}==5 ? "Mei" : $F{masa_bulan}==6 ? "Juni" : $F{masa_bulan}==7 ? "Juli" : $F{masa_bulan}==8 ? "Agustus" : $F{masa_bulan}==9 ? "September" : $F{masa_bulan}==10 ? "Oktober" : $F{masa_bulan}==11 ? "November" : $F{masa_bulan}==12 ? "Desember" : ""]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="106" splitType="Stretch"/>
	</pageHeader>
	<detail>
		<band height="730" splitType="Stretch">
			<staticText>
				<reportElement x="-1" y="0" width="69" height="64" uuid="7a0a21da-7388-4576-a539-814d80cf575d"/>
				<textElement>
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<text><![CDATA[Nomor
Sifat
Lampiran
Perihal]]></text>
			</staticText>
			<staticText>
				<reportElement x="68" y="0" width="230" height="64" uuid="7a0a21da-7388-4576-a539-814d80cf575d"/>
				<textElement markup="styled">
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<text><![CDATA[: 973/                        -BPP
: Segera
: -
: <b>Teguran Penyampaian SPTPD</b>]]></text>
			</staticText>
			<textField>
				<reportElement x="-1" y="109" width="518" height="59" uuid="66c01c90-6ae1-4671-9718-312f10b094f9"/>
				<textElement textAlignment="Justified" markup="styled">
					<font fontName="SansSerif" size="10"/>
					<paragraph firstLineIndent="30"/>
				</textElement>
				<textFieldExpression><![CDATA["Bersama ini disampaikan kepada Bapak/Ibu bahwa berdasarkan data pada pembukuan kami, Bapak/Ibu belum meyampaikan  SPTPD untuk <b>Masa Pajak   Bulan,  "+$V{masa_bulan}+" "+$V{tahun}+"</b>. Perlu kami ingatkan kembali bahwa berdasarkan Peraturan Daerah Kota Bogor No.21 Tahun 2011 tentang Ketentuan Umum Pajak Daerah :"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="-1" y="389" width="518" height="70" uuid="1a6b7945-688b-4e6d-b10a-3cf5735053a1"/>
				<textElement textAlignment="Justified" markup="styled">
					<font fontName="SansSerif" size="10"/>
					<paragraph firstLineIndent="30"/>
				</textElement>
				<text><![CDATA[Oleh karena itu diharapkan kesadaran dan tanggung jawab Bapak/Ibu sebagai Wajib Pajak untuk segera melaporkan SPTPD melalui website http://e-sptpd.kotabogor.go.id atau customer service loket pelayanan Pajak Terpadu Dinas Pendapatan Daerah Kota Bogor, <b>paling lambat 3 hari setelah surat ini diterima</b>.

Demikian atas perhatian dan kerjasamanya diucapkan terima kasih.]]></text>
			</staticText>
			<staticText>
				<reportElement x="325" y="494" width="192" height="15" uuid="2d2341fd-4c26-4233-907f-7a70951c1602"/>
				<textElement markup="none">
					<font fontName="SansSerif" size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Kepala,]]></text>
			</staticText>
			<staticText>
				<reportElement x="325" y="576" width="192" height="15" uuid="c78760dc-1b89-4b27-811d-da6a604e3472"/>
				<textElement markup="none">
					<font fontName="SansSerif" size="10" isBold="true" isUnderline="true"/>
				</textElement>
				<text><![CDATA[DAUD NEDO DARENOH, SE]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="168" width="517" height="221" uuid="bff941bc-a2ec-4175-86b1-637ed2c00d65"/>
				<textElement textAlignment="Justified" markup="styled">
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<text><![CDATA[<b>Pasal 11 Ayat (1) huruf a angka 3</b>
Apabila kewajiban mengisi SPTPD tidak dipenuhi pajak yang terhutang dihitung secara jabatan.
Jumlah pajak yang terhutang dalam SKPDKB sebagaimana dimaksud pada Ayat (1) huruf a angka 3 dikenakan administrasi berupa kenaikan pajak sebesar 25% dari pokok pajak ditambah sanksi administrasi berupa bunga 2% sebulan dihitung dari pajak yang kurang atau terlambat dibayar untuk jangka waktu paling lama 24 bulan dihitung sejak saat terhutangnya pajak.

<b>Pasal 66 Ayat (1)</b>
Wajib Pajak yang karena kealpaannya tidak menyampaikan SPTPD atau mengisi dengan tidak benar, sehingga merugikan keuangan daerah dan dapat dipidana dengan pidana kurungan paling lama 1 tahun atau pidana denda paling banyak 2 (dua) kali jumlah pajak terutang yang tidak atau kurang bayar.

<b>Pasal 66 Ayat (2)</b>
Wajib Pajak yang dengan sengaja tidak menyampaikan  SPTPD atau mengisi dengan tidak benar atau tidak lengkap atau melampirkan keterangan yang tidak benar sehingga merugikan keuangan daerah dapat dipidana dengan pidana penjara paling lama 2 (dua) tahun atau pidana denda paling banyak 4 (empat) kali jumlah pajak terutang yang tidak atau kurang bayar.]]></text>
			</staticText>
			<textField>
				<reportElement x="298" y="15" width="219" height="94" uuid="415aca05-4fe1-4faa-9c50-b23b490b1534"/>
				<textElement markup="html">
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA["Kepada Yth,<br>"+
"Pengelola "+$F{usahanm}+"<br>"+
"<b>"+$F{customernm}+"</b><br>"+
"di<br>"+
$F{alamat}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="298" y="0" width="219" height="15" uuid="74082b17-c4a9-4784-a2ec-263991bdf9b6"/>
				<textElement>
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA["Bogor, "+$F{tglcetak}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="1" y="647" width="516" height="38" uuid="ac768370-de2a-42a3-9f78-877ae888eb21"/>
				<textElement markup="styled">
					<font fontName="SansSerif" size="10"/>
				</textElement>
				<text><![CDATA[<b>Tembusan :</b>
1. Yth. Bapak Walikota Bogor (sebagai laporan).
2. Yth. Inspektur Kota Bogor.
]]></text>
			</staticText>
			<staticText>
				<reportElement x="325" y="591" width="192" height="29" uuid="dfa151a9-8b37-4cd5-9bd5-340326a5cd92"/>
				<textElement markup="none">
					<font fontName="SansSerif" size="10" isUnderline="false"/>
				</textElement>
				<text><![CDATA[PEMBINA TK I
NIP. 19580222 198203 1 008]]></text>
			</staticText>
			<image scaleImage="RetainShape" hAlign="Center" vAlign="Middle" isLazy="true" onErrorType="Blank">
				<reportElement x="355" y="509" width="51" height="67" uuid="ab6af6f5-c001-4e7f-8693-00444474e689">
					<printWhenExpression><![CDATA[$F{cu_id}.equals(0)]]></printWhenExpression>
				</reportElement>
				<imageExpression><![CDATA[$P{ttd}]]></imageExpression>
			</image>
		</band>
	</detail>
	<pageFooter>
		<band height="140" splitType="Stretch">
			<staticText>
				<reportElement x="-1" y="39" width="57" height="15" uuid="cd88567e-a627-4acd-873d-bc34b6833aeb"/>
				<textElement markup="none"/>
				<text><![CDATA[NAMA]]></text>
			</staticText>
			<textField>
				<reportElement x="58" y="39" width="238" height="15" uuid="02cd3a0b-d44a-498f-bc6e-b8d4558a46eb"/>
				<textElement markup="none">
					<font isUnderline="false"/>
				</textElement>
				<textFieldExpression><![CDATA[": "+$F{customernm}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="-1" y="54" width="57" height="15" uuid="2f463995-acc3-4412-9400-3c9a775ba301"/>
				<textElement markup="none"/>
				<text><![CDATA[ALAMAT]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="15" width="516" height="17" uuid="aef5fa61-1e35-4d98-aba0-4b7cfb62bb9d"/>
				<textElement textAlignment="Center">
					<font isBold="true" isUnderline="true"/>
				</textElement>
				<text><![CDATA[TANDA TERIMA]]></text>
			</staticText>
			<textField>
				<reportElement x="58" y="54" width="238" height="15" uuid="eb866eea-3a89-43fb-be69-5dd4076c72d1"/>
				<textElement markup="none"/>
				<textFieldExpression><![CDATA[": "+$F{alamat}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="1" y="0" width="514" height="1" uuid="4fb908af-22f7-40af-94ca-2bde6d731f4f"/>
				<graphicElement>
					<pen lineStyle="Dashed"/>
				</graphicElement>
			</line>
			<textField>
				<reportElement x="325" y="39" width="191" height="15" uuid="f432058b-161e-4a3c-87cf-afb67214b80a"/>
				<textElement textAlignment="Center" markup="none">
					<font isUnderline="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Bogor, "+$F{tglcetak}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="325" y="54" width="191" height="15" uuid="da85cde6-7264-4c96-81e8-37ec917aeee6"/>
				<textElement textAlignment="Center" markup="none">
					<font isUnderline="false"/>
				</textElement>
				<text><![CDATA[Yang Menerima]]></text>
			</staticText>
			<staticText>
				<reportElement x="325" y="95" width="191" height="15" uuid="7dd07be6-1c7a-4fa1-8774-c870cf4419e4"/>
				<textElement textAlignment="Center" markup="none"/>
				<text><![CDATA[( ... ... ... ... ... ... ... ... ... ... )]]></text>
			</staticText>
			<textField>
				<reportElement x="58" y="69" width="238" height="15" uuid="7390df6f-9d5e-42d8-8af3-7cb8015ea6bb"/>
				<textElement markup="none"/>
				<textFieldExpression><![CDATA["  "+ $F{kelurahannm}+" - "+$F{kecamatannm}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="1" width="514" height="1" uuid="e8931bb9-b9f8-496e-974a-518394245145"/>
				<graphicElement>
					<pen lineStyle="Dashed"/>
				</graphicElement>
			</line>
		</band>
	</pageFooter>
</jasperReport>
